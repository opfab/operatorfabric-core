<!-- Copyright (c) 2022-2023, RTE (http://www.rte-france.com)              -->
<!-- See AUTHORS.txt                                                       -->
<!-- This Source Code Form is subject to the terms of the Mozilla Public   -->
<!-- License, v. 2.0. If a copy of the MPL was not distributed with this   -->
<!-- file, You can obtain one at http://mozilla.org/MPL/2.0/.              -->
<!-- SPDX-License-Identifier: MPL-2.0                                      -->
<!-- This file is part of the OperatorFabric project.                      -->

<div class="opfab-useractionlogs-title" translate>
    useractionlogs.title
</div>

<ng-container *ngIf="!isUserAllowed">
    <div style="text-align: center; font-size: 20px; padding-top: 100px" translate>errors.pageNotAllowed
    </div>
</ng-container>
<div *ngIf="isUserAllowed">


    <form [formGroup]="userActionLogsForm" #currentForm>
    <of-useractionlogs-filters [userActionLogsForm]="userActionLogsForm"  [defaultMinDate]="defaultMinDate" (search)="sendQuery()" (reset)="resetForm()" #filters></of-useractionlogs-filters> 
    </form>
    <div style="height:5%"> </div>
    <div *ngIf="hasResult; else noResult" style="margin-top:20px;margin-left:5%;margin-right:5%">
        <of-useractionlogs-table [actions]="userActions" [page]="page" [totalElements]="totalElements" [totalPages]="totalPages" (pageChange)="pageChange($event)"></of-useractionlogs-table>
    </div>

    <ng-template #noResult>
        <br>
        <div *ngIf="firstQueryHasBeenDone&&!hasResult&&!loadingInProgress" id="opfab-useractionlogs-noResult"  style="text-align: center;font-size: 20px;" translate>shared.noResult</div>
    </ng-template>

    <div *ngIf="technicalError" style="text-align: center;font-size: 20px;" translate> shared.error.technicalError
    </div>

    <of-spinner *ngIf="loadingInProgress"></of-spinner>
</div>