<!-- Copyright (c) 2022, RTE (http://www.rte-france.com)              -->
<!-- See AUTHORS.txt                                                       -->
<!-- This Source Code Form is subject to the terms of the Mozilla Public   -->
<!-- License, v. 2.0. If a copy of the MPL was not distributed with this   -->
<!-- file, You can obtain one at http://mozilla.org/MPL/2.0/.              -->
<!-- SPDX-License-Identifier: MPL-2.0                                      -->
<!-- This file is part of the OperatorFabric project.                      -->

<form [formGroup]="selectStateForm" class="opfab-form-lighter">
    <div class="row">

        <div style="position:relative" class="col" *ngIf="isProcessGroupFilterVisible()">
            <of-multi-select id="of-usercard-service-selector" multiSelectId="usercardProcessGroup" [parentForm]="selectStateForm"
                [config]="multiSelectConfig" [options]="processGroupOptions" [selectedOptions]="selectedProcessGroupOption" #processGroupSelect>
            </of-multi-select>
        </div>

        <div style="position:relative" class="col" *ngIf="! isProcessGroupFilterVisible() && !! processOptions && processOptions.length > 0">
            <of-multi-select id="of-usercard-process-filter" multiSelectId="usercardProcess" [parentForm]="selectStateForm"
                [config]="processMultiSelectConfig" [options]="processOptions" [selectedOptions]="selectedProcess" #processSelect>
            </of-multi-select>
        </div>
        <div style="position:relative" class="col"
            *ngIf="isProcessGroupFilterVisible() && !! processOptionsWhenSelectedProcessGroup && processOptionsWhenSelectedProcessGroup.length > 0">
            <of-multi-select id="of-usercard-process-filter" multiSelectId="usercardProcess" [parentForm]="selectStateForm"
                [config]="processMultiSelectConfig" [options]="processOptionsWhenSelectedProcessGroup" [selectedOptions]="selectedProcess" #processSelect>
            </of-multi-select>
        </div>

        <div style="position:relative" class="col" [hidden]="!stateOptions || (stateOptions.length < 2)">
            <of-multi-select id="of-state-filter" multiSelectId="usercardState" [parentForm]="selectStateForm"
                [config]="stateMultiSelectConfig" [options]="stateOptions" [selectedOptions]="selectedState" #stateSelect>
            </of-multi-select>
        </div>
    </div>
</form>