<!-- Copyright (c) 2018-2021, RTE (http://www.rte-france.com)              -->
<!-- See AUTHORS.txt                                                       -->
<!-- This Source Code Form is subject to the terms of the Mozilla Public   -->
<!-- License, v. 2.0. If a copy of the MPL was not distributed with this   -->
<!-- file, You can obtain one at http://mozilla.org/MPL/2.0/.              -->
<!-- SPDX-License-Identifier: MPL-2.0                                      -->
<!-- This file is part of the OperatorFabric project.                      -->


<div class="timeline">

  <div style="margin-right: 10px;">
    <of-timeline-buttons [isMonitoringScreen]="false" #timelineButtons>
    </of-timeline-buttons>
  </div>

  <div class="opfab-timeline-grid" *ngIf="!this.timelineButtons.hideTimeLine">
    <div class="opfab-move-domain">
      <a id="opfab-timeline-link-move-left" (click)="this.timelineButtons.moveDomain(false)"> &lt;&lt;
      </a>
    </div>
    <!--
   [results] is the basic input for data on ngx-charts
   [prod] Workaround for testing, the variable is not set  in unit test an true in production mode 
   [myData] is the data used by our timeline
   [valueDomain] preDefine the Domain of timeline
   [followClockTick] allow timeline to move by its self until to had 4 ticks before current moment

   (zoomChange) call when custom timeline chart change his domain
  -->

    <of-custom-timeline-chart class="of-custom-timeline-chart" [prod]="true" [domainId]="this.timelineButtons.domainId"
                              [valueDomain]="this.timelineButtons.myDomain" [followClockTick]="this.timelineButtons.followClockTick"
                              (zoomChange)="this.timelineButtons.applyNewZoom($event)">
    </of-custom-timeline-chart>

    <div class="opfab-move-domain">
      <a id="opfab-timeline-link-move-right" (click)="this.timelineButtons.moveDomain(true)">
        &gt;&gt;
      </a>
    </div>

  </div>
</div>
<div class="opfab-showhide-timeline">
  <div id="opfab-timeline-link-hide-timeline" *ngIf="!this.timelineButtons.hideTimeLine" >
    <a (click)="this.timelineButtons.showOrHideTimeline()">˄ &nbsp;&nbsp; <span translate> timeline.hideTimeline </span></a>
  </div>
  <div id="opfab-timeline-link-show-timeline" *ngIf="this.timelineButtons.hideTimeLine">
    <a  (click)="this.timelineButtons.showOrHideTimeline()">˅ &nbsp;&nbsp; <span translate> timeline.showTimeline </span></a>
  </div>
</div>