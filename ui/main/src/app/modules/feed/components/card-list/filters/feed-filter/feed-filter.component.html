<!-- Copyright (c) 2018-2023, RTE (http://www.rte-france.com)              -->
<!-- See AUTHORS.txt                                                       -->
<!-- This Source Code Form is subject to the terms of the Mozilla Public   -->
<!-- License, v. 2.0. If a copy of the MPL was not distributed with this   -->
<!-- file, You can obtain one at http://mozilla.org/MPL/2.0/.              -->
<!-- SPDX-License-Identifier: MPL-2.0                                      -->
<!-- This file is part of the OperatorFabric project.                      -->


    <form [formGroup]="typeFilterForm" id="opfab-type-filter-form" style="padding-left: 10px; padding-top: 5px;">
        <div style="display: flex;">
            <div>
                <label class="opfab-checkbox"> <span class="label-sev-alarm" translate> shared.severity.alarm </span>
                    <input id="opfab-feed-filter-severity-alarm" type="checkbox" formControlName="alarm" >
                    <span class="opfab-checkbox-checkmark"></span>
                </label>


                <label class="opfab-checkbox"> <span class="label-sev-action" translate> shared.severity.action </span>
                    <input id="opfab-feed-filter-severity-action" type="checkbox" formControlName="action" >
                    <span class="opfab-checkbox-checkmark"></span>
                </label>
            </div>
            <div style="margin-left: 30px">
                <label class="opfab-checkbox"> <span class="label-sev-compliant" translate> shared.severity.compliant </span>
                    <input id="opfab-feed-filter-severity-compliant" type="checkbox" formControlName="compliant" >
                    <span class="opfab-checkbox-checkmark"></span>
                </label>


                <label class="opfab-checkbox"> <span class="label-sev-information" translate> shared.severity.information </span>
                    <input id="opfab-feed-filter-severity-information" type="checkbox" formControlName="information" >
                    <span class="opfab-checkbox-checkmark"></span>
                </label>
            </div>
        </div>
    </form>
    <div *ngIf="!(hideResponseFilter)">
        
        <form [formGroup]="responseFilterForm" id="opfab-response-filter-form"  style="padding-left: 10px; padding-top: 15px;">
            <label class="opfab-checkbox"> <span translate>feed.filters.showCardsWithResponse.label</span>
                <input type="checkbox"  id="opfab-feed-filter-response" formControlName="responseControl">
                <span class="opfab-checkbox-checkmark"></span>
            </label>
        </form>
    </div>
    <div>
        <form [formGroup]="ackFilterForm" id="opfab-ack-filter-form"  style="padding-left: 10px">
            <div style="display:flex">
            <label class="opfab-checkbox" id="opfab-feed-filter-ack-ack-label"> <span  translate>feed.filters.ack.acknowledged.label</span>
                <input type="checkbox"  id="opfab-feed-filter-ack-ack" formControlName="ackControl">
                <span class="opfab-checkbox-checkmark"></span>
            </label>
            <label class="opfab-checkbox" id="opfab-feed-filter-ack-notack-label" style="margin-left: 10px"> <span  translate>feed.filters.ack.notacknowledged.label</span>
                <input type="checkbox"  id="opfab-feed-filter-ack-notack" formControlName="notAckControl">
                <span class="opfab-checkbox-checkmark"></span>
            </label>
        </div>
        </form>
    </div>

    <of-feed-sort [defaultSorting]="defaultSorting"></of-feed-sort>
    
    <div *ngIf="!(hideTimerTags)" style="margin-top:-5px;">

        <div class="row opfab-filter-header">
            <span id='opfab-feed-filter-date-title' translate>feed.filters.time.titleIfFilterBasedOnPublishDate</span>
        </div>

        <form class="opfab-time-filter" [formGroup]="timeFilterForm" id="opfab-time-filter-form" style="padding-left: 7px;">

            <div style="margin-left: 2px; margin-right: 2px;margin-top: 20px;width:200px">
                <div class="form-group" id="opfab-start">
                    <of-datetime-filter id="opfab-feed-filter-dateTimeFrom"  (change)="onDateTimeChange($event)" filterPath="start.label" formControlName="dateTimeFrom"
                      [maxDate]="startMaxDate"  labelKey="feed.filters.time." [timeSpinners]="false"></of-datetime-filter>
                </div>
            </div>

            <div style="margin-left: 2px; margin-right: 2px;margin-top:20px;width:200px;">
                <div class="form-group" id="opfab-end">
                    <of-datetime-filter id="opfab-feed-filter-dateTimeTo" filterPath="end.label" formControlName="dateTimeTo"
                    [minDate]="endMinDate"  labelKey="feed.filters.time." [timeSpinners]="false" (change)="onDateTimeChange($event)"></of-datetime-filter>
                </div>

            </div>
        </form>
        
    </div>
    <div *ngIf="!(hideApplyFiltersToTimeLineChoice)">
        
        <form [formGroup]="timeLineFilterForm" id="opfab-timeline-filter-form"  style="padding-left: 10px; padding-top: 0px;margin-top:20px">
            <label class="opfab-checkbox" translate>feed.filters.applyFiltersToTimeLine.label
                <input type="checkbox"  id="opfab-feed-filter-timeline" formControlName="timeLineControl">
                <span class="opfab-checkbox-checkmark"></span>
            </label>
        </form>
    </div>

    <div *ngIf="showResetLink()" style="display: flex; justify-content: center;">
        <div id='opfab-feed-filter-reset' class="opfab-link" style="width: max-content" (click)="reset()">
            <span translate>feed.filters.reset</span>
        </div>
    </div>

