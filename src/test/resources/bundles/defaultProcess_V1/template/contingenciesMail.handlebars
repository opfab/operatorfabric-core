<!-- Copyright (c) 2024, RTE (http://www.rte-france.com)                   -->
<!-- See AUTHORS.txt                                                       -->
<!-- This Source Code Form is subject to the terms of the Mozilla Public   -->
<!-- License, v. 2.0. If a copy of the MPL was not distributed with this   -->
<!-- file, You can obtain one at http://mozilla.org/MPL/2.0/.              -->
<!-- SPDX-License-Identifier: MPL-2.0                                      -->
<!-- This file is part of the OperatorFabric project.                      -->

<div id="apogee-contingencies">

    {{#data.networkContingencies}}

    <div>

        <button class="accordion">{{name}}</button>

        <div class="panel" style="display:block">
            <br/>

            {{#if this.networkLimitViolations }}

                <table class="darkTable">
                    <thead>
                    <tr>
                        <th style="width:440px">Constraints</th>
                        {{#networkLimitViolations.0.networkContexts}}

                            <th style="width:100px">
                                <div class="tooltipApogee">{{ dateFormat date format="HH:mm" }}
                                </div>
                            </th>

                        {{/networkLimitViolations.0.networkContexts}}

                    </tr>
                    </thead>
                    <tbody>

                    {{#networkLimitViolations}}

                        <tr>
                            <td style="width:440px">
                               {{name}} {{#if detail.cDisplayExists}} ({{detail.constraintDisplayLabel}}) {{else}}
                               ({{detail.constraintDisplayLabel}} {{detail.acceptableDuration}} {{#if detail.acceptableDuration }} s {{/if }}) {{/if}}
                            </td>

                            {{#values}}
                                <td style="width:100px">
                                    <div class="tooltipApogee" {{#if detail.worstConstraint}} style="font-weight:bold" {{/if }}>  {{#if value}} {{value}} {{/if}}

                                    </div>

                                </td>

                            {{/values}}

                        </tr>

                    {{/networkLimitViolations}}

                    </tbody>

                </table>
            {{/if }}
            <br/>

            {{#networkRemedials}}
                <p class="{{detail.status}}">Parade: {{name}}</p>
                {{#if this.networkLimitViolations }}
                    <table class="darkTable">
                        <thead>
                        <tr>
                            <th style="width:440px">Constraints</th>

                            {{#networkLimitViolations.0.networkContexts}}

                                <th>
                                    <div class="tooltipApogee">{{ dateFormat date format="HH:mm" }}
                   </span>
                                    </div>
                                </th>
                            {{/networkLimitViolations.0.networkContexts}}

                        </tr>
                        </thead>
                        <tbody>
                        {{#networkLimitViolations}}
                            <tr>
                                <td style="min-width:440px">
                                    {{name}} {{#if detail.cDisplayExists}} ({{detail.constraintDisplayLabel}}) {{else}}
                                    ({{detail.constraintDisplayLabel}} {{detail.acceptableDuration}} {{#if detail.acceptableDuration }} s {{/if }}) {{/if}}
                                </td>

                                {{#values}}
                                    <td style="width:100px">
                                        <div class="tooltipApogee" {{#if detail.worstConstraint}} style="font-weight:bold" {{/if }}>  {{#if value}} {{value}} {{/if}}
                                        </div>
                                    </td>
                                {{/values}}
                            </tr>

                        {{/networkLimitViolations}}

                        </tbody>
                    </table>
                {{/if }}
                <br/>
            {{/networkRemedials}}

        </div>

    </div>
    {{/data.networkContingencies}}

</div>
