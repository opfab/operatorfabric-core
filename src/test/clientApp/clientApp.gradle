
buildscript {
	repositories {
		jcenter()
		mavenLocal()
		mavenCentral()
		maven { url "https://plugins.gradle.org/m2/" }
	}
	dependencies {

	}
}

apply plugin: plugin.bom
apply plugin: plugin.boot
apply plugin: 'java'


configurations {
	compileOnly {
		extendsFrom annotationProcessor
	}
}


//create a single Jar with all dependencies
jar {
	    manifest {
	        attributes 'Main-Class': 'org.opfab.client.ClientApplication'
	    }
	 
	    from {
	        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
	    }
	}


dependencies {
	implementation 'org.springframework.boot:spring-boot-starter-web'

	annotationProcessor 'org.projectlombok:lombok'
	compile project(':client:cards-client-data')
	compile project(':tools:generic:utilities'), project(':tools:spring:spring-utilities')
	testImplementation('org.springframework.boot:spring-boot-starter-test') {
	}
}

test {
	useJUnitPlatform()
}
